<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ASURT DAQ 26: CAN_Messages_Group</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ASURT DAQ 26
   </div>
   <div id="projectbrief">Ain Shams University&#39;s Racing Team&#39;s Data Acquisition System 2026</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group___c_a_n___messages___group.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">CAN_Messages_Group </div></div>
</div><!--header-->
<div class="contents">

<p>Encoding/decoding logic for DAQ CAN messages.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:daq_5Fcan_5Fmsg_5Ft" id="r_daq_5Fcan_5Fmsg_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdaq__can__msg__t.html">daq_can_msg_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message Info to be enqueued in the CAN queue.  <a href="structdaq__can__msg__t.html#details">More...</a><br /></td></tr>
<tr class="memitem:daq_5Fcan_5Fmsg_5Fimu_5Ft" id="r_daq_5Fcan_5Fmsg_5Fimu_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdaq__can__msg__imu__t.html">daq_can_msg_imu_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format for encoding IMU readings for transmission via CAN.  <a href="structdaq__can__msg__imu__t.html#details">More...</a><br /></td></tr>
<tr class="memitem:daq_5Fcan_5Fmsg_5Fadc_5Ft" id="r_daq_5Fcan_5Fmsg_5Fadc_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdaq__can__msg__adc__t.html">daq_can_msg_adc_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format for encoding ADC Sensors readings for transmission via CAN.  <a href="structdaq__can__msg__adc__t.html#details">More...</a><br /></td></tr>
<tr class="memitem:daq_5Fcan_5Fmsg_5Fprox_5Ft" id="r_daq_5Fcan_5Fmsg_5Fprox_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdaq__can__msg__prox__t.html">daq_can_msg_prox_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format for encoding Proximity Speed readings for transmission via CAN.  <a href="structdaq__can__msg__prox__t.html#details">More...</a><br /></td></tr>
<tr class="memitem:daq_5Fcan_5Fmsg_5Fgps_5Ft" id="r_daq_5Fcan_5Fmsg_5Fgps_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdaq__can__msg__gps__t.html">daq_can_msg_gps_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format for encoding GPS readings for transmission via CAN.  <a href="structdaq__can__msg__gps__t.html#details">More...</a><br /></td></tr>
<tr class="memitem:daq_5Fcan_5Fmsg_5Ftemp_5Ft" id="r_daq_5Fcan_5Fmsg_5Ftemp_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdaq__can__msg__temp__t.html">daq_can_msg_temp_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format for encoding Temperature readings for transmission via CAN.  <a href="structdaq__can__msg__temp__t.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gacc936b6185000d34f1864d167e7cab74" id="r_gacc936b6185000d34f1864d167e7cab74"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacc936b6185000d34f1864d167e7cab74">daq_can_id_t</a> { <br />
&#160;&#160;<b>DAQ_CAN_ID_IMU_ANGLE</b> = DAQ_CAN_BASE_ID
, <b>DAQ_CAN_ID_IMU_ACCEL</b>
, <b>DAQ_CAN_ID_ADC</b>
, <b>DAQ_CAN_ID_PROX_ENCODER</b>
, <br />
&#160;&#160;<b>DAQ_CAN_ID_GPS</b>
, <b>DAQ_CAN_ID_TEMP</b>
<br />
 }</td></tr>
<tr class="memdesc:gacc936b6185000d34f1864d167e7cab74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmission IDs for CAN messages.  <a href="#gacc936b6185000d34f1864d167e7cab74">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga30809f1562927951e3b79ebe36f97bd0" id="r_ga30809f1562927951e3b79ebe36f97bd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga30809f1562927951e3b79ebe36f97bd0">DAQ_CAN_Init</a> (CAN_HandleTypeDef *can_handle, CAN_TxHeaderTypeDef *can_tx_header)</td></tr>
<tr class="memdesc:ga30809f1562927951e3b79ebe36f97bd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the CAN task by starting CAN communication and setting the can_tx_header.  <br /></td></tr>
<tr class="memitem:ga4b100c228a2381176b7b0e53a63a1109" id="r_ga4b100c228a2381176b7b0e53a63a1109"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4b100c228a2381176b7b0e53a63a1109">DAQ_CAN_Msg_Enqueue</a> (<a class="el" href="structdaq__can__msg__t.html">daq_can_msg_t</a> *msg)</td></tr>
<tr class="memdesc:ga4b100c228a2381176b7b0e53a63a1109"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueues a CAN message of type <span class="tt"><a class="el" href="structdaq__can__msg__t.html" title="Message Info to be enqueued in the CAN queue.">daq_can_msg_t</a></span> to the FreeRTOS queue to be transmitted on CAN bus.  <br /></td></tr>
<tr class="memitem:ga155876876ad156396ffbf3527f1fb974" id="r_ga155876876ad156396ffbf3527f1fb974"><td class="memItemLeft" align="right" valign="top">BaseType_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga155876876ad156396ffbf3527f1fb974">DAQ_CAN_Msg_Dequeue</a> (<a class="el" href="structdaq__can__msg__t.html">daq_can_msg_t</a> *msg)</td></tr>
<tr class="memdesc:ga155876876ad156396ffbf3527f1fb974"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dequeues a CAN message of type <span class="tt"><a class="el" href="structdaq__can__msg__t.html" title="Message Info to be enqueued in the CAN queue.">daq_can_msg_t</a></span> from the FreeRTOS CAN queue.  <br /></td></tr>
<tr class="memitem:ga2e1bd65d6cd92bc4116814beca1ab1ff" id="r_ga2e1bd65d6cd92bc4116814beca1ab1ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2e1bd65d6cd92bc4116814beca1ab1ff">DAQ_CAN_Task</a> (void *pvParameters)</td></tr>
<tr class="memdesc:ga2e1bd65d6cd92bc4116814beca1ab1ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">A FreeRTOS task that dequeues the CAN message and transmits it.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>Encoding/decoding logic for DAQ CAN messages. </p>
<p>This group contains all structures and functions used in encoding and queuing sensors' data to be sent via the CAN bus. All readings are encoded to the data member of the '<a class="el" href="structdaq__can__msg__t.html" title="Message Info to be enqueued in the CAN queue.">daq_can_msg_t</a>' object.</p>
<dl class="section note"><dt>Note</dt><dd>See the implementation file for full encoding/decoding algorithm details. </dd></dl>
<a name="doc-enum-members" id="doc-enum-members"></a><h2 id="header-doc-enum-members" class="groupheader">Enumeration Type Documentation</h2>
<a id="gacc936b6185000d34f1864d167e7cab74" name="gacc936b6185000d34f1864d167e7cab74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc936b6185000d34f1864d167e7cab74">&#9670;&#160;</a></span>daq_can_id_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#gacc936b6185000d34f1864d167e7cab74">daq_can_id_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmission IDs for CAN messages. </p>
<dl class="section note"><dt>Note</dt><dd>Receiving addresses might also be added here (ECU's Address). </dd></dl>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga30809f1562927951e3b79ebe36f97bd0" name="ga30809f1562927951e3b79ebe36f97bd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga30809f1562927951e3b79ebe36f97bd0">&#9670;&#160;</a></span>DAQ_CAN_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DAQ_CAN_Init </td>
          <td>(</td>
          <td class="paramtype">CAN_HandleTypeDef *</td>          <td class="paramname"><span class="paramname"><em>can_handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CAN_TxHeaderTypeDef *</td>          <td class="paramname"><span class="paramname"><em>can_tx_header</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the CAN task by starting CAN communication and setting the can_tx_header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">can_handle</td><td>Pointer to CAN handle object. </td></tr>
    <tr><td class="paramname">can_tx_header</td><td>Pointer to CAN TX header object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga155876876ad156396ffbf3527f1fb974" name="ga155876876ad156396ffbf3527f1fb974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga155876876ad156396ffbf3527f1fb974">&#9670;&#160;</a></span>DAQ_CAN_Msg_Dequeue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BaseType_t DAQ_CAN_Msg_Dequeue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdaq__can__msg__t.html">daq_can_msg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dequeues a CAN message of type <span class="tt"><a class="el" href="structdaq__can__msg__t.html" title="Message Info to be enqueued in the CAN queue.">daq_can_msg_t</a></span> from the FreeRTOS CAN queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">msg</td><td>Pointer the variable in which the received CAN message (from the queue) will be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><span class="tt">pdTRUE</span> if successfully executed </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>This function should only be used in CAN task. If the queue is empty, it will block the task until the queue is not empty.</dd></dl>
<p>After dequeuing inside the <span class="tt">DAQ_CAN_Task</span>, the message is transmitted on the CAN bus. </p>

</div>
</div>
<a id="ga4b100c228a2381176b7b0e53a63a1109" name="ga4b100c228a2381176b7b0e53a63a1109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4b100c228a2381176b7b0e53a63a1109">&#9670;&#160;</a></span>DAQ_CAN_Msg_Enqueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DAQ_CAN_Msg_Enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdaq__can__msg__t.html">daq_can_msg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enqueues a CAN message of type <span class="tt"><a class="el" href="structdaq__can__msg__t.html" title="Message Info to be enqueued in the CAN queue.">daq_can_msg_t</a></span> to the FreeRTOS queue to be transmitted on CAN bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Pointer to CAN message object to be enqueued.</td></tr>
  </table>
  </dd>
</dl>
<p>After enqueuing, the message then dequeued by the <span class="tt">DAQ_CAN_Msg_Dequeue</span> inside the <span class="tt">DAQ_CAN_Task</span> for transmitting on the CAN bus. </p>

</div>
</div>
<a id="ga2e1bd65d6cd92bc4116814beca1ab1ff" name="ga2e1bd65d6cd92bc4116814beca1ab1ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e1bd65d6cd92bc4116814beca1ab1ff">&#9670;&#160;</a></span>DAQ_CAN_Task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DAQ_CAN_Task </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>pvParameters</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A FreeRTOS task that dequeues the CAN message and transmits it. </p>
<p>This is the last station for the CAN message.</p>
<dl class="section note"><dt>Note</dt><dd>This function is event based, meaning that it only gets executed when a message is enqueued to the queue. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
