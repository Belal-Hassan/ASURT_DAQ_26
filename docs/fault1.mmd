sequenceDiagram
    participant Watchdog_Task as Watchdog Task
    participant Task_Pool as Task Pool
    participant Fault_Handler as Fault Handler
    participant System as System Boot

    loop Every 60ms
        Watchdog_Task->>Task_Pool: Initial State or All tasks entered/kicked?
        alt Initial phase or all tasks active
            Watchdog_Task->>Watchdog_Task: Refresh watchdog
            Watchdog_Task->>Task_Pool: Reset entry count and runtime for all tasks
        else Fault detection phase
            Watchdog_Task->>Task_Pool: For each task (high to low priority), check runtime > max
            alt Runtime fault found
                Watchdog_Task->>Task_Pool: Increment task error count and break
                Watchdog_Task->>Fault_Handler: Call fault handler and halt
            else Not a runtime fault
                Watchdog_Task->>Task_Pool: For each task (high to low priority), check elapsed ticks > max
                alt Elapsed fault found
                    Watchdog_Task->>Task_Pool: Increment error count and break
                    Watchdog_Task->>Fault_Handler: Call fault handler and halt
                end
            end
        end
    end
    System->>Task_Pool: After reset, check each task error counts.
    alt Errors exceed max
        System->>Task_Pool: Demote faulty tasks to the lowest priority (0)
    else Error counts normal
        System->>Task_Pool: Allow normal operation
    end